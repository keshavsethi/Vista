{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/global/document.js","src/js/index.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","videojsSlides","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","topLevel","minDoc","document","doccy","_interopDefault","ex","_typeof","videojs","defaults","registerPlugin","plugin","VideoSlides","items","_classCallCheck","slides","createElement","slidesItems","oldTime","appendSlider","controlBar","getElementsByClassName","className","parentNode","insertBefore","appendSliderItem","img","li","src","url","time","appendChild","currentTime","Math","floor","firstItem","oldItem","currentItem","beforeSlide","currentSlide","style","display","onPlayerReady","player","options","addClass","on","slideShow","_this","ready","mergeOptions","VERSION"],"mappings":"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","file":"/home/keshav/Desktop/vista/videojs-slides/dist/browser/videojs-slides.min.js","sourceRoot":"","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","var topLevel = typeof global !== 'undefined' ? global :\n    typeof window !== 'undefined' ? window : {}\nvar minDoc = require('min-document');\n\nif (typeof document !== 'undefined') {\n    module.exports = document;\n} else {\n    var doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n    if (!doccy) {\n        doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n    }\n\n    module.exports = doccy;\n}\n","'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar videojs = _interopDefault(require('video.js'));\nvar document = _interopDefault(require('global/document'));\n\n// Default options for the plugin.\r\nconst defaults = {};\r\n\r\n// Cross-compatibility for Video.js 5 and 6.\r\nconst registerPlugin = videojs.registerPlugin || videojs.plugin;\r\n// const dom = videojs.dom || videojs;\r\n\r\n/**\r\n * Function to invoke when the player is ready.\r\n *\r\n * @function onPlayerReady\r\n * @param    {Player} player\r\n *           A Video.js player.\r\n * @param    {Object} [options={}]\r\n *           An object of options left to the plugin author to define.\r\n */\r\nclass VideoSlides {\r\n  /**\r\n  * VideoSlides Constructor.\r\n  *\r\n  * @classdesc A class that represents a slides.\r\n  * @constructs VideoSlides\r\n  * @param {Array} items Array Object Items has slide image and time to show the slide\r\n  */\r\n  constructor(items) {\r\n\r\n    this.slides = document.createElement('ul');\r\n    this.slidesItems = items;\r\n    this.oldTime = 0;\r\n    this.appendSlider();\r\n  }\r\n  /**\r\n  * AppendSlider function to append Slide list into VideoJS.\r\n  *\r\n  * @return {void} doesn't return enething\r\n  * @function appendSlider\r\n  *\r\n  */\r\n  appendSlider() {\r\n    // Get control bar element\r\n    const controlBar = document.getElementsByClassName('vjs-control-bar')[0];\r\n\r\n    // Add slide list className\r\n    this.slides.className = 'video-slides';\r\n    controlBar.parentNode.insertBefore(this.slides, controlBar);\r\n    this.appendSliderItem();\r\n  }\r\n  /**\r\n  * AppendSliderItem function to append SlideItem  into Slide List.\r\n  *\r\n  * @return {void} doesn't return enething\r\n  * @function appendSliderItem\r\n  *\r\n  */\r\n  appendSliderItem() {\r\n    for (let i = 0; i <= this.slidesItems.length - 1; i++) {\r\n      // Create an image and li tag\r\n      const img = document.createElement('img');\r\n      const li = document.createElement('li');\r\n\r\n      // Added src and Class name\r\n      img.src = this.slidesItems[i].url;\r\n      li.className = 'slide_' + this.slidesItems[i].time;\r\n      // Append image into li\r\n      li.appendChild(img);\r\n      // Append li into ul list\r\n      this.slides.appendChild(li);\r\n    }\r\n  }\r\n  /**\r\n  * slideShow function to show the current slide according to the time.\r\n  *\r\n  * @param {number} time the current video time\r\n  * @return {void} doesn't return enething\r\n  * @function slideShow\r\n  *\r\n  */\r\n  slideShow(time) {\r\n    const currentTime = Math.floor(time);\r\n\r\n    for (let i = 0; i <= this.slidesItems.length - 1; i++) {\r\n      if (currentTime === this.slidesItems[i].time && this.oldTime !== currentTime) {\r\n        const firstItem = (i === 0) ? 0 : 1;\r\n        const oldItem = 'slide_' + this.slidesItems[i - firstItem].time;\r\n        const currentItem = 'slide_' + this.slidesItems[i].time;\r\n        const beforeSlide = document.getElementsByClassName(oldItem)[0];\r\n        const currentSlide = document.getElementsByClassName(currentItem)[0];\r\n\r\n        beforeSlide.style.display = 'none';\r\n        currentSlide.style.display = 'block';\r\n        this.oldTime = currentTime;\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n }\r\nconst onPlayerReady = (player, options) => {\r\n  player.addClass('vjs-slides');\r\n  const slides = new VideoSlides(options.slides);\r\n\r\n  player.on('timeupdate', function() {\r\n    slides.slideShow(this.currentTime());\r\n  });\r\n};\r\n\r\n/**\r\n * A video.js plugin.\r\n *\r\n * @function slides\r\n * @param    {Object} [options={}]\r\n *           An object of options left to the plugin author to define.\r\n */\r\nconst slides = function(options) {\r\n  this.ready(() => {\r\n    onPlayerReady(this, videojs.mergeOptions(defaults, options));\r\n  });\r\n};\r\n\r\n// Register the plugin with video.js.\r\nregisterPlugin('slides', slides);\r\n\r\n// Include the version number.\r\nslides.VERSION = '__VERSION__';\n\nmodule.exports = slides;\n"]}